<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>KassahunM Git Exercise</title>
    <style>
        #outer_wrapper{
            margin: auto;
            padding: 12px;
            width:50%;   
        }

        #container1,#container2{
            
            text-align: center;  
        }
        #output_buttons{
            background-color: blanchedalmond;
            padding:10px;
            margin:10px;

        }

        .input_percent{
            margin:auto;
            padding:10px;
            border:1px solid green;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
        }

        #output1,#output2,#output4,#output5,#output6,#output6{
            border:1px solid rgb(255, 51, 0);
            padding: 10px;
            margin:10px;
            background-color:rgb(122, 129, 115);
        }

        input{
            width: 70px;
            border: none;
            background-color: rgb(226, 226, 211);
            text-align: center;
            color: rgb(201, 31, 158);
        }

        table, td,th{
            border:1px solid red;
            padding: 8px;
        }

        table{
            border-collapse: collapse;
            margin:10px;
           
        }

        #output5{
            
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
        }

     
        .outputs p input{
            background-color:rgba(0, 0, 0, 0.945);
            color: white;
           
            
        }

        footer{
            clear: both;
            text-align: center;
            padding: 5px;
            background-color: blanchedalmond;
            margin:10px;
           
      }

        
    </style>
</head>

<body> 
    <p style="color:red" id="pass_holder"> Enter your password :<input type='text' id='password' autocomplete='off'></p>
    <button id="show">Show</button>
    <h6 id="alert"></h6>
    <div id="outer_wrapper" style="display:none ;">
        <button data-container='container1' class="open">Open Input page</button>
        <button class="btn" id="calculate" >Run calculation</button> 
        <button data-container='container2' class="open">Open Output Page</button>
        
        <div id="container1" style="display:none ;">
            <h2>Inputs</h2>
            
            <div class="input_percent">
                <p>TCH: <input class="tch"                                                 value="226"></p> 
                <p>MJ%cane: <input class="mj_percent_cane"                                 value="98"></p>
                <p>Imbibition%cane: <input id="imbibition_percent_cane"                    value="27"></p>
                <p>MOL%cane: <input id="mol_percent_cane"                                  value="2.25"></p>
                <p>SO2%cane: <input id="so2_percent_cane"                                  value="0.07"></p>
                <p>Mud filter spray water%cane: <input id="mud_filter_water_percent_cane"  value="2.5"></p>
                <p>Filter cake%cane: <input id="filter_cake_percent_cane"                  value="3.5"></p>
            </div>

            <table>
                <tr>
                    <th></th>
                    <th>Mixed juice</th>
                    <th>Clear Juice</th>
                    <th>Syrup</th>
                    <th>A-Cuite</th>
                    <th>C-Cuite</th>
                    <th>D-Cuite</th>
                </tr>
                <tr>
                    <td>Brix</td>
                    <td><input class="mj_bx"      value="16"></td>
                    <td><input class="cj_bx"      value="15.5"></td>
                    <td><input id="syrup_bx"      value="64"></td>
                    <td><input id="a_cuite_bx"    value="94"></td>
                    <td><input id="c_cuite_bx"    value="101"></td>
                    <td><input id="d_cuite_bx"    value="102"></td>
                </tr>
                <tr>
                    <td>Purity</td>
                    <td><input id="mj_pty"       value="84"></td>
                    <td><input id="cj_pty"       value="85"></td>
                    <td><input id="syrup_pty"    value="83.5"></td>
                    <td><input id="a_cuite_pty"  value="86.5"></td>
                    <td><input id="c_cuite_pty"  value="72"></td>
                    <td><input id="d_cuite_pty" value="58"></td>

                </tr>
            </table>
            <table>
                <tr>
                    <th></th>
                    <th>A-molasses</th>
                    <th>C-molasses</th>
                    <th>Final-molasses</th>
                    <th>A-wash</th>
                    <th>D-wash</th>
                    <th>Remelt</th>
                </tr>
                <tr>
                    <td>Brix</td>
                    <td><input id="a_mol_bx"     value="84"></td>
                    <td><input id="c_mol_bx"     value="86"></td>
                    <td><input id="final_mol_bx" value="88"></td>
                    <td><input id="a_wash_bx"    value="78"></td>
                    <td><input id="d_wash_bx"    value="80"></td>
                    <td><input id="remelt_bx"    value="65"></td>
                </tr>
                <tr>
                    <td>Purity</td>
                    <td><input id="a_mol_pty"     value="70"></td>
                    <td><input id="c_mol_pty"     value="49"></td>
                    <td><input id="final_mol_pty" value="34"></td>
                    <td><input id="a_wash_pty"    value="95"></td>
                    <td><input id="d_wash_pty"    value="65"></td>
                    <td><input id="remelt_pty"    value="90"></td>
                </tr>
            </table>

            <table>
                <tr>
                    <th></th>
                    <th>AFW magma</th>
                    <th>AAW magma</th>
                    <th>C magma</th>
                    <th>DAW magma</th>
                    <th>DAW magma</th>
                    
                </tr>
                <tr>
                    <td>Brix</td>
                    <td><input id="afw_magma_bx" value="92"></td>
                    <td><input id="aaw_magma_bx" value="98.8"></td>
                    <td><input id="c_magma_bx"   value="91"></td>
                    <td><input id="dfw_magma_bx" value="92"></td>
                    <td><input id="daw_magma_bx" value="92"></td>
                    
                </tr>
                <tr>
                    <td>Purity</td>
                    <td><input id="afw_magma_pty" value="98.8"></td>
                    <td><input id="aaw_magma_pty" value="99.8"></td>
                    <td><input id="c_magma_pty"   value="92.5"></td>
                    <td><input id="dfw_magma_pty" value="84"></td>
                    <td><input id="daw_magma_pty" value="89"></td>
                    
                </tr>
            </table>
          
            <div class="input_percent">
                <p>Seed-magma%A-cuite: <input id="seed_percent_a_cuite"  placeholder="Seed-magma%A-cuite" value="12.5"></p>
                <p>Reject-sugar%cane: <input id="reject_sugar_percent_cane"  placeholder="Reject-sugar%cane" value="0.4"></p>
                <p>Panwash%massecuite: <input id="panwash_percent_cuite"  placeholder="Panwash%massecuite" value="2"></p>
            </div>
        

            <div id="heaters_in">
            <h2>Inputs for Juice Heaters Energy Balance</h2>
            <table id="table1">
                <tr>
                    <th></th>
                    <th>Scalding Juice</th>
                    <th>Press Water</th>
                    <th>Mixed Juice</th>
                    <th>Sulphited Juice</th>
                    <th>Clear Juice</th>
    
                </tr>
                <tr>
                    <td>Flow rate (t/h) </td>
                    <td><input value="131" id="sc_flow"> </td>
                    <td><input value="24.5" id="pw_flow"> </td>
                    <td><input id="mj_flow" readonly> </td> <!--calculated from above-->
                    <td><input readonly id="sj_flow"></td>  <!--15%mj_flow-->
                    <td><input readonly id="cj_flow"></td> <!--calculated from above-->
                </tr>
                <tr>
                    <td>Brix (solid %) </td>
                    <td><input value="13" id="sc_bx"></td>
                    <td><input value="5.0" id="pw_bx"></td>
                    <td><input class="mj_bx" readonly></td>  <!--given above-->
                    <td><input value="16.66" id="sj_bx"></td>   <!--given above-->
                    <td><input class="cj_bx" readonly></td>
                </tr>
                <tr>
                    <td>Density (t/m<sup>3</sup>) </td>
                    <td><input value="1.05" id="sc_den"></td>
                    <td><input value="1.0" id="pw_den"></td>
                    <td><input value="1.05" id="mj_den"></td>
                    <td><input value="1.05" id="sj_den"></td>
                    <td><input value="1.05" id="cj_den"></td>
                </tr>
                <tr>
                    <td>Juice Inlet Temperature (<sup>0</sup>C)</td>
                    <td><input value="70" id="sc_temp_in"></td>
                    <td><input value="55" id="pw_temp_in"></td>
                    <td><input value="35" id="mj_temp_in"></td>
                    <td><input value="70" id="sj_temp_in"></td>
                    <td><input value="93" id="cj_temp_in"></td>
                </tr>
                <tr>
                    <td>Number of Tubes</td>
                    <td><input value="234" id="sc_tube_num"></td>
                    <td><input value="300" id="pw_tube_num"></td>
                    <td><input value="464" id="mj_tube_num"></td>
                    <td><input value="464" id="sj_tube_num"></td>
                    <td><input value="464" id="cj_tube_num"></td>
                </tr>
                <tr>
                    <td>Tube Length (m)</td>
                    <td><input value="3.5" id="sj_tube_len"></td>
                    <td><input value="3.5" id="cj_tube_len"></td>
                </tr>
                <tr>
                    <td>Inner Tube Dia.(m) </td>
                    <td><input value="0.03" id="sc_tube_dia"></td>
                    <td><input value="0.03" id="pw_tube_dia"></td>
                    <td><input value="0.03" id="mj_tube_dia"></td>
                    <td><input value="0.03" id="sj_tube_dia"></td>
                    <td><input value="0.03" id="cj_tube_dia"></td>
                </tr>
                <tr>
                    <td>Number of passes</td>
                    <td><input value="2" id="sc_pass"></td>
                    <td><input value="12" id="pw_pass"></td>
                    <td><input value="8" id="mj_pass"></td>
                    <td><input value="8" id="sj_pass"></td>
                    <td><input value="10" id="cj_pass" ></td>
                </tr>
                <tr>
                    <td>Heating Surface Area (m<sup>2</sup>)</td>
                    <td><input value="80" id="sc_area"></td>
                    <td><input value="99" id="pw_area"></td>
                    <td><input value="153" id="mj_area"></td>
                    <td><input value="153" id="sj_area"></td>
                    <td><input value="153" id="cj_area"></td>
                </tr>
            </table>
            
            <table id="table2">
                <tr>
                    <td>Exhaust Steam Temperature (<sup>0</sup>C)</td>
                    <td><input value="120" id="exh_steam_temp"></td>
                
                    <td>Vapour1 Temperature (<sup>0</sup>C)</td>
                    <td><input value="110" id="v1_temp"></td>
                </tr>
                <tr>
                    <td>Vapour2 Temperature (<sup>0</sup>C)</td>
                    <td><input value="101.5" id="v2_temp"></td>
                
                    <td>Ambient Air Temperature (<sup>0</sup>C)</td>
                    <td><input value="25" id="air_temp"></td>
                </tr>
                <tr>
                    <td>Radiation Coefficient</td>
                    <td><input value="0.05" id="rad_coeff"></td>
                </tr>
    
            </table>
            </div> <!--heaters in end -->
        
                
            <h1>Inputs for Pan Boiling Steam Requirement</h1>
            <div class="input_percent">
                <p>Movement Water Flow to  pans (t/h): <input class="movement_water"  placeholder="A_movement_Water" value="3.8"></p> 
                <p>Molasses Dilution Water Flow(t/h): <input class="mol_dilution_water"  placeholder="Dilution water" value="1.4"></p>
                <p>Steam For Soda Boiling(t/h): <input class="steam_for_soda"  placeholder="Soda boiling steam" value="1.2"></p>
                <p>Steam loss on pan Boiling (%)<input class="steam_loss_on_pan"  placeholder="Steam Loss" value="15"></p>
            </div>  
            <h1>Inputs for Evaporation Energy Balance</h1>
            <table>
               <tr>
                   <th></th>
                   <th>Temperature</th>
                   <th>Latent heat of vapour/steam (kj/kg)</th>
                   <th>Latent heat of condensate (kj/kg)</th>
                  
               </tr>
               <tr>
                   <td>Exhaust Steam</td>
                   <td><input id="exh_temp_evap" readonly></td>  <!--given in heater input page-->
                   <td><input id="exh_hg_evap" readonly></td>   <!--calculated in heater output page-->
                   <td><input id="exh_hf_evap" readonly></td>   <!--to be calculated-4.187*temp-->
               </tr>
               <tr>
                <td>Vapour 1</td>
                <td><input id="v1_temp_evap" readonly></td>   <!--given in heater input page-->
                <td><input id="v1_hg_evap" readonly></td>    <!--calculated in heater output page-->
                <td><input id="v1_hf_evap" readonly></td>  <!--to be calculated-4.187*temp 4.187*temp-->
            </tr>
            <tr>
                <td>Vapour 2</td>
                <td><input id="v2_temp_evap" readonly></td>  <!--given in heater input page-->
                <td><input id="v2_hg_evap" readonly></td>  <!--calculated in heater output page-->
                <td><input id="v2_hf_evap" readonly></td>   <!--to be calculated = 4.187*temp-->
            </tr>
            <tr>
                <td>Vapour 3</td>
                <td><input id="v3_temp_evap" value="85.5"></td>
                <td><input id="v3_hg_evap" readonly></td> <!--to be calculated --> 
                <td><input id="v3_hf_evap" readonly></td>   <!--to be calculated-4.187*temp 4.187*temp-->
               
            </tr>
            
            </table>
            <table>
                <tr>
                    <th>Specific Heat Cap. of condensate (kcal/kg/0C)</th>
                    <td><input id="shc_evap" value="1"></td>
                </tr>
            </table>
            <h1>Inputs for Pan Boiling Steam Requirement</h1>
            <div class="input_percent">
                <p>Exhaust Steam for Evap and Heaters Soda Boiling: <input class="exh_soda" value="2.5"></p>
                <p>Exhaust Steam for Pan Washing: <input class="exh_pan_wash" value="1.7"></p>
                <p>Steam for Steaming Out and Ejectors: <input class="steam_out_eject" value="1.5"></p>
                <p>Steam for Sulphur Melting: <input class="sulphur_melt" value="1.5"></p>
                <p>Steam for Sugar Melting,Centrifugal and Dryers: <input class="melt_centrifug_dryer" value="1.3"></p>
            </div> <!--end pan steam out-->
            
            
        </div> <!--input_container end-->
   
        <div id="container2"  style="display:none ;"> 
            <h2>Outputs </h2>
            <div id="output_buttons">
                <button data-output ="output1"  class="output_button">Extraction</button>
                <button data-output ="output2"  class="output_button">Clarification</button>
                <button data-output ="output3"  class="output_button">Juice Heaters</button>
                <button data-output ="output4"  class="output_button"> Evaporation </button>
                <button data-output ="output5"' class="output_button">Crystallization</button>
                <button data-output ="output6"  class="output_button">Pans Steam Requirement</button>
                <button data-output ="output7"  class="output_button">Factory Process Steam Consumption</button>

            </div>
            

            <div id="output1" class="outputs" style="display: none;">
                <h2>Extraction Plant Calculation Results-Mass Flow(t/h) </h2>
                <p>TCH: <input class="tch_out" readonly></p>
                <p>Imbibition Water: <input id="imb_out" readonly></p>
                <p>Mixed Juice: <input class="mj_out" readonly></p>
                <p>Bagasse: <input id="bagasse_out" readonly></p>
            </div>

            <div id="output2" class="outputs" style="display: none;">    
                <h2>Clarification Calculation Result- Mass Flow (t/h) </h2>
                <p>Mixed Juice: <input class="mj_out" readonly></p>
                <p>MOL: <input id="mol_out" readonly></p>
                <p>SO2: <input id="so2_out" readonly></p>
                <p>Filter Wash water: <input id="filter_wash_out" readonly></p>
                <p>Filter Cake: <input id="filter_cake_out" readonly></p>
                <p>Clear Juice: <input id="cj_out" readonly></p>
            </div> 

            <div id="output3" class="outputs" style="display: none;">
                <h2>Heaters Calculation Results </h2>
                <h3>1. Outlet Tempratures <sup>0</sup>C </h3>
        
                <table id="table3">
                    <tr>
                        <th></th>
                        <th>Scalding Juice</th>
                        <th>Press Water</th>
                        <th>Mixed Juice</th>
                        <th>Sulphited Juice</th>
                        <th>Clear Juice</th>
                    </tr>
                    <tr>
                        <td>First Heater </td>
                        <td><input id="sc_out_temp" readonly></td>
                        <td><input id="pw_out_temp1" readonly></td>
                        <td><input id="mj_out_temp1" readonly></td>
                        <td><input id="sj_out_temp1" readonly></td>
                        <td><input id="cj_out_temp1" readonly></td>
                    </tr>
                    <tr>
                        <td>Second Heater</td>
                        <td></td>
                        <td><input id="pw_out_temp2" readonly</td>
                        <td><input id="mj_out_temp2" readonly</td>
                        <td><input id="sj_out_temp2" readonly</td>
                        <td><input id="cj_out_temp2" readonly></td>
                        
                    </tr>
                    <tr>
                        <td>Third Heater </td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td><input id="sj_out_temp3" readonly></td>
                        <td></td>
                    </tr>
        
                </table id="table4">
                <h3>2. Exhaust Steam and Vapor Requirements (t/h)</h3>
                <table>
                    <tr>
                        <th></th>
                        <th>Scalding Juice</th>
                        <th>Press Water</th>
                        <th>Mixed Juice</th>
                        <th>Sulphited Juice</th>
                        <th>Clear Juice</th>
                        <th>Total</th>
                    </tr>
                    <tr>
                        <td>Exhaust steam </td>
                        <td><input id="sc_steam" readonly ></td>
                        <td><input id="pw_steam" readonly></td>
                        <td></td>
                        <td><input id="sj_steam" readonly></td>
                        <td><input id="cj_steam" readonly></td>
                        <td><input id="total_exh_steam" readonly></td>
                    </tr>
                    <tr>
                        <td>Vapour 1</td>
                        <td></td>
                        <td><input id="pw_v1" readonly></td>
                        <td></td>
                        <td><input id="sj_v1" readonly></td>
                        <td></td>
                        <td><input id="total_v1" readonly></td>
                    </tr>
                    <tr>
                        <td>Vapour 2</td>
                        <td></td>
                        <td></td>
                        <td><input id="mj_v2" readonly></p></td>
                        <td></td>
                        <td></td>
                        <td><input id="total_v2" readonly></td>
                    </tr>
                    
                </table>
            
            </div>   

            <div id="output4" class="outputs" style="display: none;">    
                <h2>Evaporation Calculation Result- Mass Flow (t/h) </h2>
                <p>Total Evaporation: <input id="e_total" readonly></p>
                <p>Steam Required for Pre Evaporator: <input id="s0" readonly></p>
                <p>Steam Required by First Effect: <input id="s1" readonly></p>
                <p>Condensate Flash from Pre evap and 1st Effect: <input id="flash_1" readonly></p>
                <p>Condensate Flash from 2nd Effect: <input id="flash_2" readonly></p>
                <p>Condensate Flash from 3rd Effect: <input id="flash_3" readonly></p>
                <p>Vapour Generated From 1st Effect: <input id="total_v1_evap" readonly></p>
                <p>Vapour Generated From 2nd Effect: <input id="total_v2_evap" readonly></p>
                <p>Vapour Generated From 3rd Effect: <input id="v3" readonly></p>
                <p>Vapour Generated From 4th Effect: <input id="v4" readonly></p>
                <h3>Intermediate juice Brix Values from Each Effect Outlet (%) </h3>
                <p>Brix from Pre Evaporator: <input id="bx0" readonly></p>
                <p>Brix from 1st Effect: <input id="bx1" readonly></p>
                <p>Brix from 2nd Effect: <input id="bx2" readonly></p>
                <p>Brix from 3rd Effect: <input id="bx3" readonly></p>
               
            </div> 
            
                            
            <h5 id="warning" style="display: none;color: red;background-color: yellow;">Warning:There is mismatch in purities. Check input purities again. 
                A-wash solid flow to A-pan or to mingler shouldn't be negative</h5>
                
            <div id="output5" class="outputs" style="display: none;">
                <h2>Crystallization Calculation Results- Solid Flow (t/h) </h2>
                <p>Syrup Total: <input id="syrup_out" readonly></p>
                <p>Syrup for A-cuite-boiling: <input id="syrup_to_a_out" readonly></p>
                <p>Syrup for C-cuite-boiling: <input id="syrup_to_c_out" readonly></p>
                <p>A-massecuite: <input id="a-cuite-out" readonly></p>
                <p>C-massecuite: <input id="c-cuite-out" readonly></p>
                <p>D-massecuite: <input id="d-cuite-out" readonly></p>
                <p>A-molasses: <input id="a-mol-out" readonly></p>
                <p>A-molasses to C-cuite boiling: <input id="a-mol-to-c-out" readonly></p>
                <p>A-molasses to D-cuite boiling: <input id="a-mol-to-d-out" readonly></p>
                <p>C-molasses: <input id="c-mol-out" readonly></p>
                <p>Final-molasses: <input id="final-mol-out" readonly></p>
                <p>A-wash: <input id="a-wash-out" readonly></p>
                <p>D-wash: <input id="d-wash-out" readonly></p>
                <p>A-magma: <input id="afw-magma-out" readonly></p>
                <p>DFW-magma: <input id="dfw-magma-out" readonly ></p>
                <p>C-magma: <input id="c-magma-out" readonly></p>
                <p>AAW-sugar: <input id="aaw-magma-out" readonly></p>
                <p>DAW-magma: <input id="daw-magma-out" readonly></p>
                <p>C-magma to remelt: <input id="c-melt-out" readonly></p>
                <p>C-seed magma: <input id="c-seed-out" readonly></p>
                <p>A-wash to mingler: <input id="a-wash-mingler-out" readonly></p>
                <p>A-wash to pan: <input id="a-wash-pan-out" readonly></p>
                <p>A-panwash: <input id="a-panwash" readonly></p>
                <p>C-panwash: <input id="c-panwash" readonly></p>
                <p>D-panwash: <input id="d-panwash" readonly></p>
                <p>Total-panwash: <input id="total-panwash" readonly></p>
                <p>Reject sugar to remelt: <input id="reject-sugar" readonly></p>
                <p>Remelt liquor: <input id="remelt-out" readonly></p>
                <p>Final product: <input id="final-product-out" readonly></p>
            </div>   
            
            <div id="output6" class="outputs" style="display: none;">
                <h2>Steam Requirement For Pan Boiling- Mass Flow (t/h) </h2>
                <p>Water Evaporated from inputs of A pans: <input id="a_pans_evap" readonly></p>
                <p>Water Evaporated from inputs of C pans: <input id="c_pans_evap" readonly></p>
                <p>Water Evaporated from inputs of D pans: <input id="d_pans_evap" readonly></p>
                <p>Movement Water <input class="movement_water" readonly></p>
                <p>Dilution water<input class="mol_dilution_water" readonly></p>
                <p>Steam for Soda Boiling <input class="steam_for_soda" readonly></p>
                <p>Steam loss on pan Boiling (%)<input class="steam_loss_on_pan" readonly></p>
                <p>Total Steam Consumption for Pan Boiling: <input id="pans_steam_consumption" readonly></p>
            </div> <!--end pan steam out-->

            <div id="output7" class="outputs" style="display: none;">
                <h2>Process Steam Consumptin- Mass Flow (t/h) </h2>
                <p>Exhaust Steam for Pre Evaporator: <input id="exh_pre_evap" readonly></p>
                <p>Exhaust Steam for 1st Effect: <input id="exh_1st" readonly></p>
                <p>Exhaust Steam for Juice Heaters: <input id="exh_jh" readonly></p>
                <p>Exhaust Steam for Evap and Heaters Soda Boiling: <input class="exh_soda" readonly></p>
                <p>Exhaust Steam for Pan Washing: <input class="exh_pan_wash" readonly></p>
                <p>Steam for Steaming Out and Ejectors: <input class="steam_out_eject" readonly></p>
                <p>Steam for Sulphur Melting: <input class="sulphur_melt" readonly></p>
                <p>Steam for Sugar Melting,Centrifugal and Dryers: <input class="melt_centrifug_dryer" readonly></p>
                <p>Total Process Steam Requiremet: <input id="total_steam" readonly></p>
            </div> <!--end pan steam out-->
        

            
        </div>  <!--output_container end-->
        <div id="footer_div">
            <footer id="footer"><h5><i>copyright kassahun apps ktm15.com</i></h5></footer>

        </div>


    </div>   <!--outer wrapper-->

    <script>
        
     var pass=document.querySelector("#password")
     var outer=document.querySelector("#outer_wrapper")
     var s=document.querySelector("#show")
     var alerts=document.querySelector("#alert")
     var ph=document.querySelector("#pass_holder")
     function show(){
        if (pass.value =='kass'){
            outer.style.display='block'
            alerts.style.display="none"
            s.style.display='none'
            ph.style.display='none'
           
        }
        else{
            alerts.innerHTML='Enter correct password'
            pass.value = ""
        }
     }   
     s.addEventListener("click",show)
            
        //assign input variables
        var tch=document.querySelector(".tch");
        var imb=document.querySelector("#imbibition_percent_cane");
        var mj=document.querySelector(".mj_percent_cane");
        var mol=document.querySelector("#mol_percent_cane");
        var so2=document.querySelector("#so2_percent_cane");
        var filter_wash=document.querySelector("#mud_filter_water_percent_cane");
        var filter_cake=document.querySelector("#filter_cake_percent_cane");
        var mj_bx=document.querySelectorAll(".mj_bx");
        var mj_pty=document.querySelector("#mj_pty");
        var cj_bx=document.querySelectorAll(".cj_bx");
        var cj_pty=document.querySelector("#cj_pty");
        var syrup_bx=document.querySelector("#syrup_bx");
        var syrup_pty=document.querySelector("#syrup_pty");
        var a_cuite_bx=document.querySelector("#a_cuite_bx");
        var a_cuite_pty=document.querySelector("#a_cuite_pty");
        var c_cuite_bx=document.querySelector("#c_cuite_bx");
        var c_cuite_pty=document.querySelector("#c_cuite_pty");
        var d_cuite_bx=document.querySelector("#d_cuite_bx");
        var d_cuite_pty=document.querySelector("#d_cuite_pty");
        var a_mol_bx=document.querySelector("#a_mol_bx");
        var a_mol_pty=document.querySelector("#a_mol_pty");
        var c_mol_bx=document.querySelector("#c_mol_bx");
        var c_mol_pty=document.querySelector("#c_mol_pty");
        var final_mol_bx=document.querySelector("#final_mol_bx");
        var final_mol_pty=document.querySelector("#final_mol_pty");
        var a_wash_bx=document.querySelector("#a_wash_bx");
        var a_wash_pty=document.querySelector("#a_wash_pty");
        var d_wash_bx=document.querySelector("#d_wash_bx");
        var d_wash_pty=document.querySelector("#d_wash_pty");
        var afw_magma_bx=document.querySelector("#afw_magma_bx");
        var afw_magma_pty=document.querySelector("#afw_magma_pty");
        var c_magma_bx=document.querySelector("#c_magma_bx");
        var c_magma_pty=document.querySelector("#c_magma_pty");
        var dfw_magma_bx=document.querySelector("#dfw_magma_bx");
        var dfw_magma_pty=document.querySelector("#dfw_magma_pty");
        var aaw_magma_bx=document.querySelector("#aaw_magma_bx");
        var aaw_magma_pty=document.querySelector("#aaw_magma_pty");
        var daw_magma_bx=document.querySelector("#daw_magma_bx");
        var daw_magma_pty=document.querySelector("#daw_magma_pty");
        var remelt_bx=document.querySelector("#daw_magma_bx");
        var remelt_pty=document.querySelector("#daw_magma_pty");
        var seed_percent_a_cuite=document.querySelector("#seed_percent_a_cuite");
        var reject_sugar_percent_cane=document.querySelector("#reject_sugar_percent_cane");
        var panwash_percent_cuite=document.querySelector("#panwash_percent_cuite");
        var movement_water =document.querySelectorAll(".movement_water");
        var molasses_dilution_water = document.querySelectorAll(".mol_dilution_water");
        var steam_for_soda = document.querySelectorAll(".steam_for_soda");
        var steam_loss_on_pan_boiling = document.querySelectorAll(".steam_loss_on_pan");

        //juice heaters
         //flowcj_steam_temp
         var sc_flow=document.querySelector("#sc_flow");
         var pw_flow=document.querySelector("#pw_flow");
         var mj_flow=document.querySelector("#mj_flow");
         var sj_flow=document.querySelector("#sj_flow");
         var cj_flow=document.querySelector("#cj_flow");
        //density
         var sc_den=document.querySelector("#sc_den");
         var pw_den=document.querySelector("#pw_den");
         var mj_den=document.querySelector("#mj_den");
         var sj_den=document.querySelector("#sj_den");
         var cj_den=document.querySelector("#cj_den");
         //brix
         var sc_bx=document.querySelector("#sc_bx");
         var pw_bx=document.querySelector("#pw_bx");
         
         var sj_bx=document.querySelector("#sj_bx");
        
         //inlet juice temp
         var sc_temp_in=document.querySelector("#sc_temp_in");
         var pw_temp_in=document.querySelector("#pw_temp_in");
         var mj_temp_in=document.querySelector("#mj_temp_in");
         var sj_temp_in=document.querySelector("#sj_temp_in");
         var cj_temp_in=document.querySelector("#cj_temp_in");
         //number of tubes per heater
         var sc_tube_num=document.querySelector("#sc_tube_num");
         var pw_tube_num=document.querySelector("#pw_tube_num");
         var mj_tube_num=document.querySelector("#mj_tube_num");
         var sj_tube_num=document.querySelector("#sj_tube_num");
         var cj_tube_num=document.querySelector("#cj_tube_num");
         //tube length
         var sc_tube_len=document.querySelector("#sc_tube_len");
         var pw_tube_len=document.querySelector("#pw_tube_len");
         var mj_tube_len=document.querySelector("#mj_tube_len");
         var sj_tube_len=document.querySelector("#sj_tube_len");
         var cj_tube_len=document.querySelector("#cj_tube_len");
         //tube inner diameter
         var sc_tube_dia=document.querySelector("#sc_tube_dia");
         var pw_tube_dia=document.querySelector("#pw_tube_dia");
         var mj_tube_dia=document.querySelector("#mj_tube_dia");
         var sj_tube_dia=document.querySelector("#sj_tube_dia");
         var cj_tube_dia=document.querySelector("#cj_tube_dia");
 
 
 
         var sc_pass = document.querySelector("#sc_pass");
         var pw_pass = document.querySelector("#pw_pass");
         var mj_pass = document.querySelector("#mj_pass");
         var sj_pass = document.querySelector("#sj_pass");
         var cj_pass = document.querySelector("#cj_pass");
         //surface area 
         var sc_area = document.querySelector("#sc_area");
         var pw_area = document.querySelector("#pw_area");
         var mj_area = document.querySelector("#mj_area");
         var sj_area = document.querySelector("#sj_area");
         var cj_area = document.querySelector("#cj_area");
         var rad_coeff=document.querySelector("#rad_coeff");
         var air_temp=document.querySelector("#air_temp");
        

         //evaporators
         var v3_temp = document.querySelector("#v3_temp_evap");
         var specific_hc_evap = document.querySelector("#shc_evap");

         //process steam requirement
         var evap_soda=document.querySelectorAll(".exh_soda");
         var pan_wash_steam=document.querySelectorAll(".exh_pan_wash");
         var steam_out_and_ejector=document.querySelectorAll(".steam_out_eject");
         var sulphur_steam=document.querySelectorAll(".sulphur_melt");
         var steam_centrifugal=document.querySelectorAll(".melt_centrifug_dryer");
         
        

        function calculate(){
            document.querySelector(".tch_out").value=parseFloat(tch.value).toFixed(2);
            document.querySelector("#imb_out").value=((tch.value*imb.value)/100).toFixed(2);
            var bagasse=parseFloat(tch.value*(1+imb.value/100-mj.value/100));
            document.querySelector("#bagasse_out").value=bagasse.toFixed(2);

            var mj_out=document.querySelectorAll(".mj_out");//common for extraction and clarification
            var mixed_juice=(parseFloat(tch.value*mj.value)/100).toFixed(2);
            mj_out[0].value=mixed_juice;//for extraction
            mj_out[1].value=mixed_juice//for clarification
            mj_flow.value=mixed_juice; //for juice heaters
            sj_flow.value=mixed_juice*1.15;//for juice heaters
            mj_bx[1].value=parseFloat(cj_bx[0].value);//for juice heaters
            cj_bx[1].value=parseFloat(cj_bx[0].value);//for juice heaters
        

        var cj_out = document.querySelector("#cj_out");//common for clarification and juice heaters
        var cj=((parseFloat(mj.value)+parseFloat(filter_wash.value)
               +parseFloat(mol.value)
               +parseFloat(so2.value)
               -parseFloat(filter_cake.value))
                *parseFloat(tch.value)/100).toFixed(2);
            document.querySelector("#mol_out").value=(parseFloat(tch.value*mol.value)/100).toFixed(2);
            document.querySelector("#so2_out").value=(parseFloat(tch.value*so2.value)/100).toFixed(2);
            document.querySelector("#filter_wash_out").value=parseFloat(tch.value*filter_wash.value/100).toFixed(2);
            document.querySelector("#filter_cake_out").value=parseFloat(tch.value*filter_cake.value/100).toFixed(2);
           
            cj_out.value=cj;
            cj_flow.value=cj; //for juice heaters

            var syrup_flow=cj*parseFloat(cj_bx[0].value)/parseFloat(syrup_bx.value);
            var syrup_solid=syrup_flow*parseFloat(syrup_bx.value/100);
            document.querySelector("#syrup_out").value=syrup_solid.toFixed(2);

            var final_product= syrup_solid*(parseFloat(syrup_pty.value)-parseFloat(final_mol_pty.value))/ //final_product is commericial sugar after grading
                          (parseFloat(aaw_magma_pty.value)-parseFloat(final_mol_pty.value));
            document.querySelector("#final-product-out").value=final_product.toFixed(2);

            final_mol_solid=syrup_solid-final_product;
            document.querySelector("#final-mol-out").value=final_mol_solid.toFixed(2);

            d_cuite_solid_discharged=final_mol_solid*(parseFloat(dfw_magma_pty.value)-parseFloat(final_mol_pty.value))/
                                    (parseFloat(dfw_magma_pty.value)-parseFloat(d_cuite_pty.value));
            water_in_d_cuite_discharged=d_cuite_solid_discharged/parseFloat(d_cuite_bx.value)*100-d_cuite_solid_discharged;
            
            
            dfw_solid=d_cuite_solid_discharged-final_mol_solid;
            document.querySelector("#dfw-magma-out").value=dfw_solid.toFixed(2);

            daw_solid = dfw_solid*(parseFloat(dfw_magma_pty.value)-parseFloat(d_wash_pty.value))/
            (parseFloat(daw_magma_pty.value)-parseFloat(d_wash_pty.value));
            document.querySelector("#daw-magma-out").value=daw_solid.toFixed(2);
            
            d_wash_solid=dfw_solid-daw_solid;
            document.querySelector("#d-wash-out").value=d_wash_solid.toFixed(2);
            water_in_d_wash=d_wash_solid/parseFloat(d_wash_bx.value)*100-d_wash_solid;

            reject_sugar=parseFloat(reject_sugar_percent_cane.value)*parseFloat(tch.value)/100;
            document.querySelector("#reject-sugar").value=reject_sugar.toFixed(2);
            aaw_magma_solid=final_product+reject_sugar;
            document.querySelector("#aaw-magma-out").value=aaw_magma_solid.toFixed(2);
            afw_magma_solid=aaw_magma_solid*(parseFloat(aaw_magma_pty.value)-parseFloat(a_wash_pty.value))/(parseFloat(afw_magma_pty.value)-parseFloat(a_wash_pty.value));
            document.querySelector("#afw-magma-out").value=afw_magma_solid.toFixed(2);

            a_wash_solid = afw_magma_solid-aaw_magma_solid;
            document.querySelector("#a-wash-out").value=a_wash_solid.toFixed(2);

            d_cuite_solid_boiled = d_cuite_solid_discharged/(1-parseFloat(panwash_percent_cuite.value)/100);
            document.querySelector("#d-cuite-out").value=d_cuite_solid_boiled.toFixed(2);

            c_molasses_solid= (d_cuite_solid_discharged*(parseFloat(a_mol_pty.value)-parseFloat(d_cuite_pty.value))+ d_wash_solid*(parseFloat(d_wash_pty.value)-parseFloat(a_mol_pty.value)))/
            (parseFloat(a_mol_pty.value)-parseFloat(c_mol_pty.value));
            document.querySelector("#c-mol-out").value=c_molasses_solid.toFixed(2);
            water_in_c_mol=c_molasses_solid/parseFloat(c_mol_bx.value)*100-c_molasses_solid;

            a_molasses_solid_for_d_boiling=d_cuite_solid_boiled-d_wash_solid-c_molasses_solid;
            document.querySelector("#a-mol-to-d-out").value=a_molasses_solid_for_d_boiling.toFixed(2);
            water_in_a_molasses_for_d=a_molasses_solid_for_d_boiling/parseFloat(a_mol_bx.value)*100-a_molasses_solid_for_d_boiling;

            water_to_d_pan=water_in_d_wash+water_in_c_mol+water_in_a_molasses_for_d;
            water_evap_from_inputs_to_d_pan = water_to_d_pan - water_in_d_cuite_discharged;

            c_cuite_solid_discharged=c_molasses_solid*(parseFloat(c_magma_pty.value)-parseFloat(c_mol_pty.value))/(parseFloat(c_magma_pty.value)-parseFloat(c_cuite_pty.value));
            water_in_c_cuite_discharged=c_cuite_solid_discharged/parseFloat(c_cuite_bx.value)*100-c_cuite_solid_discharged;

            c_cuite_solid_boiled = c_cuite_solid_discharged/(1-parseFloat(panwash_percent_cuite.value)/100);
            document.querySelector("#c-cuite-out").value=c_cuite_solid_boiled.toFixed(2);
            c_magma_solid=c_cuite_solid_discharged-c_molasses_solid;
            document.querySelector("#c-magma-out").value=c_magma_solid.toFixed(2);

            a_molasses_solid_for_c_boiling=c_cuite_solid_boiled*(parseFloat(syrup_pty.value)-parseFloat(c_cuite_pty.value))/
                                            (parseFloat(syrup_pty.value)-parseFloat(a_mol_pty.value));
            document.querySelector("#a-mol-to-c-out").value=a_molasses_solid_for_c_boiling.toFixed(2);
            water_in_a_mol_for_c=a_molasses_solid_for_c_boiling/parseFloat(a_mol_bx.value)*100-a_molasses_solid_for_c_boiling;

            syrup_solid_for_c_boiling = c_cuite_solid_boiled-a_molasses_solid_for_c_boiling;
            document.querySelector("#syrup_to_c_out").value=syrup_solid_for_c_boiling.toFixed(2);
            water_in_syrup_for_c=syrup_solid_for_c_boiling/parseFloat(syrup_bx.value)*100-syrup_solid_for_c_boiling;

            water_to_c_pan =water_in_syrup_for_c +   water_in_a_mol_for_c;
            water_evap_from_inputs_to_c_pan =  water_to_c_pan - water_in_c_cuite_discharged;

            a_molasses_solid = a_molasses_solid_for_c_boiling+a_molasses_solid_for_d_boiling;
            document.querySelector("#a-mol-out").value=a_molasses_solid.toFixed(2);

            syrup_solid_for_a_boiling=syrup_solid-syrup_solid_for_c_boiling;
            document.querySelector("#syrup_to_a_out").value=syrup_solid_for_a_boiling.toFixed(2);
            water_in_syrup_for_a = syrup_solid_for_a_boiling/parseFloat(syrup_bx.value)*100-syrup_solid_for_a_boiling;

            a_cuite_solid_discharged=(a_molasses_solid*(parseFloat(a_mol_pty.value)-parseFloat(a_wash_pty.value))+
                                      afw_magma_solid*(parseFloat(afw_magma_pty.value)-parseFloat(a_wash_pty.value)))/
                                      (parseFloat(a_cuite_pty.value)-parseFloat(a_wash_pty.value));
            water_in_a_cuite_discharged = a_cuite_solid_discharged/parseFloat(a_cuite_bx.value)*100 - a_cuite_solid_discharged;

            a_wash_solid_for_mingler=a_molasses_solid+afw_magma_solid-a_cuite_solid_discharged;
            
            document.querySelector("#a-wash-mingler-out").value=a_wash_solid_for_mingler.toFixed(2);
            a_wash_solid_for_boiling=a_wash_solid-a_wash_solid_for_mingler;
            document.querySelector("#a-wash-pan-out").value=a_wash_solid_for_boiling.toFixed(2);
            if(a_wash_solid_for_mingler<0||a_wash_solid_for_boiling<0){
                document.querySelector("#warning").style.display='block';
            }else{
                document.querySelector("#warning").style.display='none';
            }

            water_in_a_wash_to_a_pan = a_wash_solid_for_boiling/parseFloat(a_wash_bx.value)*100 - a_wash_solid_for_boiling;

            a_cuite_solid_boiled = a_cuite_solid_discharged/(1-parseFloat(panwash_percent_cuite.value)/100);
            document.querySelector("#a-cuite-out").value=a_cuite_solid_boiled.toFixed(2);

            seed_solid=parseFloat(seed_percent_a_cuite.value)*a_cuite_solid_discharged/100;
            document.querySelector("#c-seed-out").value=seed_solid.toFixed(2);

            water_in_seed = seed_solid/parseFloat(c_magma_bx.value)*100 - seed_solid;

            remelt_solid= a_cuite_solid_boiled -seed_solid- syrup_solid_for_a_boiling - a_wash_solid_for_boiling;
            document.querySelector("#remelt-out").value=remelt_solid.toFixed(2);

            water_in_remelt = remelt_solid/parseFloat(remelt_bx.value)*100 - remelt_solid;
            water_to_a_pan = water_in_syrup_for_a+water_in_seed+water_in_a_wash_to_a_pan+water_in_remelt;
            water_evap_from_inputs_to_a_pan = water_to_a_pan - water_in_a_cuite_discharged;

            total_water_evaporated_from_inputs_of_pans = 
                    water_evap_from_inputs_to_a_pan+water_evap_from_inputs_to_c_pan+water_evap_from_inputs_to_d_pan;
                    specific_hc_evap
           
            document.querySelector("#a_pans_evap").value= water_evap_from_inputs_to_a_pan.toFixed(2);
            document.querySelector("#c_pans_evap").value= water_evap_from_inputs_to_c_pan.toFixed(2);
            document.querySelector("#d_pans_evap").value= water_evap_from_inputs_to_d_pan.toFixed(2);
            
            movement_water[1].value = parseFloat(movement_water[0].value).toFixed(2);
            molasses_dilution_water[1].value=parseFloat(molasses_dilution_water[0].value).toFixed(2);
            steam_for_soda[1].value=parseFloat(steam_for_soda[0].value).toFixed(2);
            var steam_loss_percent=parseFloat(steam_loss_on_pan_boiling[0].value).toFixed(0);
            steam_loss_on_pan_boiling[1].value=steam_loss_percent;

            var total_pans_steam_consumption=
                                          (total_water_evaporated_from_inputs_of_pans+
                                          parseFloat(movement_water[0].value)+
                                          parseFloat(molasses_dilution_water[0].value)+
                                          parseFloat(steam_for_soda[0].value))*
                                          (1+steam_loss_percent/100);
            document.querySelector("#pans_steam_consumption").value=total_pans_steam_consumption.toFixed(2);
            //AFW_sugar_solid_rate=A_cuite_solid_rate_discharged-A_molasses_solid_rate
            c_magma_solid_to_remelt=c_magma_solid-seed_solid;
            document.querySelector("#c-melt-out").value=c_magma_solid_to_remelt.toFixed(2);
            a_pan_wash = a_cuite_solid_boiled-a_cuite_solid_discharged;
            document.querySelector("#a-panwash").value=a_pan_wash.toFixed(2);
            c_pan_wash = c_cuite_solid_boiled-c_cuite_solid_discharged;
            document.querySelector("#c-panwash").value=c_pan_wash.toFixed(2);
            d_pan_wash = d_cuite_solid_boiled-d_cuite_solid_discharged;
            document.querySelector("#d-panwash").value=d_pan_wash.toFixed(2);
            total_pan_wash = a_pan_wash+c_pan_wash+d_pan_wash;
            document.querySelector("#total-panwash").value=total_pan_wash.toFixed(2);

            //heaters
            //volume flow rate 
         var sc_vol_flow_rate=parseFloat(sc_flow.value)/parseFloat(sc_den.value)/3600;
         var pw_vol_flow_rate=parseFloat(pw_flow.value)/parseFloat(pw_den.value)/3600;
         var mj_vol_flow_rate=mj_flow.value/parseFloat(mj_den.value)/3600;
         var sj_vol_flow_rate=(sj_flow.value)/parseFloat(sj_den.value)/3600;
         var cj_vol_flow_rate=(cj_flow.value)/parseFloat(cj_den.value)/3600;
         
        
         
         //specific heat capacity 
         var sc_shc=(1-parseFloat(sc_bx.value)/100*(0.6-0.0018*parseFloat(sc_temp_in.value)))*4.187;
         var pw_shc=(1-parseFloat(pw_bx.value)/100*(0.6-0.0018*parseFloat(pw_temp_in.value)))*4.187;
         var mj_shc=(1-mj_bx[1].value/100*(0.6-0.0018*parseFloat(mj_temp_in.value)))*4.187;
         var sj_shc=(1-parseFloat(sj_bx.value)/100*(0.6-0.0018*parseFloat(sj_temp_in.value)))*4.187;
         var cj_shc=(1-cj_bx[1].value/100*(0.6-0.0018*parseFloat(cj_temp_in.value)))*4.187;
        
         
        
         
         
         //heating media exh. steam temp
         var exh_steam_temp = document.querySelector("#exh_steam_temp");
     
         //vapour 1 temp
         var pw_v1_temp = document.querySelector("#v1_temp");
         
         //vapour2 temp
         var mj_v2_temp = document.querySelector("#v2_temp");
 
         //number of tubes per pass
         var sc_tube_per_pass=parseFloat(sc_tube_num.value)/parseFloat(sc_pass.value);
         var pw_tube_per_pass=parseFloat(pw_tube_num.value)/parseFloat(pw_pass.value);
         var mj_tube_per_pass=parseFloat(mj_tube_num.value)/parseFloat(mj_pass.value);
         var sj_tube_per_pass=parseFloat(sj_tube_num.value)/parseFloat(sj_pass.value);
         var cj_tube_per_pass=parseFloat(cj_tube_num.value)/parseFloat(cj_pass.value);
         
         
         
     
         //x-sectional area
         var sc_dia = parseFloat(sc_tube_dia.value);
         var pw_dia = parseFloat(pw_tube_dia.value);
         var mj_dia = parseFloat(mj_tube_dia.value);
         var sj_dia = parseFloat(sj_tube_dia.value);
         var cj_dia = parseFloat(cj_tube_dia.value);
         
         
 
         var sc_x_area = sc_tube_per_pass*sc_dia*sc_dia*3.14/4;
         var pw_x_area = pw_tube_per_pass*pw_dia*pw_dia*3.14/4;
         var mj_x_area = mj_tube_per_pass*mj_dia*mj_dia*3.14/4;
         var sj_x_area = sj_tube_per_pass*sj_dia*sj_dia*3.14/4;
         var cj_x_area = cj_tube_per_pass*cj_dia*cj_dia*3.14/4;
        
         
         
         
     
         
     
         //velocity
         var sc_vel = sc_vol_flow_rate/sc_x_area;
         var pw_vel = pw_vol_flow_rate/pw_x_area;
         var mj_vel = mj_vol_flow_rate/mj_x_area;
         var sj_vel = sj_vol_flow_rate/sj_x_area;
         var cj_vel = cj_vol_flow_rate/cj_x_area;
         
         
         
 
         var exh_steam_t=parseFloat(exh_steam_temp.value);
         var v1_t =parseFloat(v1_temp.value);
         var v2_t =parseFloat(v2_temp.value);
         
         //higher latent heat of heating media
         var exh_steam_hg = 2502.04+1.8125*exh_steam_t +0.0002585*exh_steam_t^2 -0.0000098*exh_steam_t^3;
         var v1_hg        = 2502.04+1.8125*v1_t        +0.0002585*v1_t^2        -0.0000098*v1_t^3;
         var v2_hg        = 2502.04+1.8125*v2_t        +0.0002585*v2_t^2        -0.0000098*v2_t^3;
         
         //lower latent heat of heating media
         var exh_steam_hf=2.6812+4.10404*exh_steam_t+0.0005979*exh_steam_t^2;
         var v1_hf       =2.6812+4.10404*v1_t      +0.0005979*v1_t^2;
         var v2_hf       =2.6812+4.10404*v2_t       +0.0005979*v2_t^2;
         //heat transfer coefficient
         var u_sc      = 5.82*exh_steam_t *Math.sqrt(sc_vel)/1000;
         var u_pw_exh  = 5.82*exh_steam_t *Math.sqrt(pw_vel)/1000;
         var u_pw_v1   = 5.82*v1_t       *Math.sqrt(pw_vel)/1000;
         var u_mj      = 5.82*v2_t        *Math.sqrt(mj_vel)/1000;
         var u_sj_exh  = 5.82*exh_steam_t *Math.sqrt(sj_vel)/1000;
         var u_sj_v1   = 5.82*v1_t        *Math.sqrt(sj_vel)/1000;
         var u_cj      = 5.82*exh_steam_t *Math.sqrt(cj_vel)/1000;
         
     
         //uA/MC
         var ua_over_mc_sc      =  u_sc      *parseFloat(sc_area.value)/(parseFloat(sc_flow.value)*sc_shc)/1000*3600;
         var ua_over_mc_pw_exh  =  u_pw_exh  *parseFloat(pw_area.value)/(parseFloat(pw_flow.value)*pw_shc)/1000*3600;
         var ua_over_mc_pw_v1   =  u_pw_v1   *parseFloat(pw_area.value)/(parseFloat(pw_flow.value)*pw_shc)/1000*3600;
         var ua_over_mc_mj      =  u_mj      *parseFloat(mj_area.value)/(parseFloat(mj_flow.value)*mj_shc)/1000*3600;
         var ua_over_mc_sj_exh  =  u_sj_exh  *parseFloat(sj_area.value)/(parseFloat(sj_flow.value)*sj_shc)/1000*3600;
         var ua_over_mc_sj_v1   =  u_sj_v1   *parseFloat(sj_area.value)/(parseFloat(sj_flow.value)*sj_shc)/1000*3600;
         var ua_over_mc_cj      =  u_cj      *parseFloat(cj_area.value)/(parseFloat(cj_flow.value)*cj_shc)/1000*3600;
        
         //tem diff between juice inlet and heating media to first heater
         var sc_temp_dif = exh_steam_t-parseFloat(sc_temp_in.value);
         var pw_temp_dif =v1_t        -parseFloat(pw_temp_in.value);
         var mj_temp_dif =v2_t        -parseFloat(mj_temp_in.value);
         var sj_temp_dif =v1_t        -parseFloat(sj_temp_in.value);
         var cj_temp_dif =exh_steam_t -parseFloat(cj_temp_in.value);
         
        
         //outlet temp
         var sc_tepm_out  = exh_steam_t    -Math.exp(-(ua_over_mc_sc))     *sc_temp_dif;
         var pw_tepm_out1 = v1_t           -Math.exp(-(ua_over_mc_pw_v1))  *pw_temp_dif;
         var pw_tepm_out2 = exh_steam_t    -Math.exp(-(ua_over_mc_pw_exh))  *(exh_steam_t-pw_tepm_out1);
         var mj_tepm_out1 = v2_t           -Math.exp(-(ua_over_mc_mj))     *mj_temp_dif;
         var mj_tepm_out2 = v2_t           -Math.exp(-(ua_over_mc_mj))     *(v2_t-mj_tepm_out1);
         var sj_tepm_out1 = v1_t           -Math.exp(-(ua_over_mc_sj_v1))  *sj_temp_dif;
         var sj_tepm_out2 = exh_steam_t           -Math.exp(-(ua_over_mc_sj_exh))  *(exh_steam_t-sj_tepm_out1);
         var sj_tepm_out3 = exh_steam_t    -Math.exp(-(ua_over_mc_sj_exh)) *(exh_steam_t-sj_tepm_out2);
         var cj_tepm_out1 = exh_steam_t    -Math.exp(-(ua_over_mc_cj))     *cj_temp_dif;
         var cj_tepm_out2 = exh_steam_t    -Math.exp(-(ua_over_mc_cj))     *(exh_steam_t-cj_tepm_out1);
        
        
         //Output values
         document.querySelector("#sc_out_temp").value  =sc_tepm_out.toFixed(2);
         document.querySelector("#pw_out_temp1").value =pw_tepm_out1.toFixed(2);
         document.querySelector("#pw_out_temp2").value =pw_tepm_out2.toFixed(2);
         document.querySelector("#mj_out_temp1").value =mj_tepm_out1.toFixed(2);
         document.querySelector("#mj_out_temp2").value =mj_tepm_out2.toFixed(2);
         document.querySelector("#sj_out_temp1").value =sj_tepm_out1.toFixed(2);
         document.querySelector("#sj_out_temp2").value =sj_tepm_out2.toFixed(2);
         document.querySelector("#sj_out_temp3").value =sj_tepm_out3.toFixed(2);
         document.querySelector("#cj_out_temp1").value =cj_tepm_out1.toFixed(2);
         document.querySelector("#cj_out_temp2").value =cj_tepm_out2.toFixed(2);
 
 
         
         var rad_c=parseFloat(rad_coeff.value);
         var air_t=parseFloat(air_temp.value);
         //radiation loss
         var sc_rad_loss      =rad_c*(exh_steam_t-air_t)   *Math.pow(parseFloat(sc_area.value),0.67)/1000;
         var pw_rad_loss_v1   =rad_c*(v1_t-air_t)          *Math.pow(parseFloat(pw_area.value),0.67)/1000;
         var pw_rad_loss_exh  =rad_c*(exh_steam_t-air_t)   *Math.pow(parseFloat(pw_area.value),0.67)/1000;
         var mj_rad_loss      =rad_c*(v1_t-air_t)          *Math.pow(parseFloat(mj_area.value),0.67)/1000;
         var sj_rad_loss_v1   =rad_c*(v1_t-air_t)          *Math.pow(parseFloat(sj_area.value),0.67)/1000;
         var sj_rad_loss_exh  =rad_c*(exh_steam_t-air_t)   *Math.pow(parseFloat(sj_area.value),0.67)/1000;
         var cj_rad_loss      =rad_c*(exh_steam_t-air_t)   *Math.pow(parseFloat(cj_area.value),0.67)/1000;
         
         //heat gain by heaters mcp(Tout-Tin)/3600
         var heat_gain_sc=parseFloat(sc_flow.value)*sc_shc*(sc_tepm_out-parseFloat(sc_temp_in.value))/3600;
         var heat_gain_pw=parseFloat(pw_flow.value)*pw_shc*(pw_tepm_out2-parseFloat(pw_temp_in.value))/3600;
         var heat_gain_mj=parseFloat(mj_flow.value)*mj_shc*(mj_tepm_out2-parseFloat(mj_temp_in.value))/3600;
         var heat_gain_sj=parseFloat(sj_flow.value)*sj_shc*(sj_tepm_out3-parseFloat(sj_temp_in.value))/3600;
         var heat_gain_cj=parseFloat(cj_flow.value)*cj_shc*(cj_tepm_out2-parseFloat(cj_temp_in.value))/3600;
     
         //exhaust steam consumption (heat gain+radiation loss)/(hg-hf)
         var sc_exh_steam=(heat_gain_sc+sc_rad_loss)/(exh_steam_hg-exh_steam_hf)*3600;
         var pw_exh_steam=(heat_gain_pw+pw_rad_loss_exh)/(exh_steam_hg-exh_steam_hf)*3600;
         var sj_exh_steam=(heat_gain_sj+2*sj_rad_loss_exh)/(exh_steam_hg-exh_steam_hf)*3600;
         var cj_exh_steam=(heat_gain_cj+2*cj_rad_loss)/(exh_steam_hg-exh_steam_hf)*3600;
 
         var total_exhaust_heater=sc_exh_steam+pw_exh_steam+sj_exh_steam+cj_exh_steam;
         //v1 consumption
         var pw_v1_consump=(heat_gain_pw+pw_rad_loss_v1)/(v1_hg-v1_hf)*3600;
         var sj_v1_consump=(heat_gain_sj+sj_rad_loss_v1)/(v1_hg-v1_hf)*3600;
         var total_v1=pw_v1_consump+sj_v1_consump;
         //v2 consumption
         var mj_v2_consump=(heat_gain_mj+2*mj_rad_loss)/(v2_hg-v2_hf)*3600;
 
         document.querySelector("#sc_steam").value=sc_exh_steam.toFixed(2);
         document.querySelector("#pw_steam").value=pw_exh_steam.toFixed(2);
         document.querySelector("#sj_steam").value=sj_exh_steam.toFixed(2);
         document.querySelector("#cj_steam").value=cj_exh_steam.toFixed(2);
         document.querySelector("#pw_v1").value=pw_v1_consump.toFixed(2);
         document.querySelector("#sj_v1").value=sj_v1_consump.toFixed(2);
         document.querySelector("#mj_v2").value=mj_v2_consump.toFixed(2);
         document.querySelector("#total_exh_steam").value=total_exhaust_heater.toFixed(2);
         document.querySelector("#total_v1").value=total_v1.toFixed(2);
         document.querySelector("#total_v2").value=mj_v2_consump.toFixed(2);


         //evaporator temp
         document.querySelector("#exh_temp_evap").value=exh_steam_t.toFixed(2);
         document.querySelector("#v1_temp_evap").value=v1_t.toFixed(2);
         document.querySelector("#v2_temp_evap").value=v2_t.toFixed(2);

         //evaporator hg
         document.querySelector("#exh_hg_evap").value=exh_steam_hg.toFixed(2);
         document.querySelector("#v1_hg_evap").value=v1_hg.toFixed(2);
         document.querySelector("#v2_hg_evap").value=v2_hg.toFixed(2);


         var v3_t=parseFloat(v3_temp.value);
         var v3_hg=2502.04+1.8125*v3_t+0.0002585*v3_t^2 -0.0000098*v3_t^3;
         document.querySelector("#v3_hg_evap").value = v3_hg.toFixed(2);

         //evaporator hf
         hf_exh = 4.187*exh_steam_t;
         hf_v1 = 4.187*v1_t;
         hf_v2 = 4.187*v2_t;
         hf_v3 = 4.187*v3_t;

         document.querySelector("#exh_hf_evap").value=(hf_exh).toFixed(2);
         document.querySelector("#v1_hf_evap").value=(hf_v1).toFixed(2);
         document.querySelector("#v2_hf_evap").value=(hf_v2).toFixed(2);
         document.querySelector("#v3_hf_evap").value=(hf_v3).toFixed(2);

         //specific heat capacity of condensate 
         var sph   =  parseFloat(specific_hc_evap.value)

         //flash coefficient
         flash_coef1 = (hf_exh-hf_v1)/(v1_hg-hf_v1)*sph;
         flash_coef2 = (hf_v1-hf_v2)/(v2_hg-hf_v2)*sph;
         flash_coef3 = (hf_v2-hf_v3)/(v3_hg-hf_v3)*sph;

         //total evaporation
         var total_evap = cj - syrup_flow;
         document.querySelector("#e_total").value=total_evap.toFixed(2);

         //steam consumption and vapour generation
         var x1 =  (total_evap-total_pans_steam_consumption+mj_v2_consump+(total_v1-flash_coef1*total_pans_steam_consumption)
                    *(flash_coef2+2+(flash_coef3+1)*(flash_coef2+1))+(flash_coef3+1)*mj_v2_consump)/
                   (flash_coef1+2+(flash_coef2+1)*(flash_coef1+1)*(2+flash_coef3));
         document.querySelector("#s0").value=total_pans_steam_consumption.toFixed(2);
         document.querySelector("#s1").value=x1.toFixed(2);
         document.querySelector("#total_v1_evap").value=x1.toFixed(2);

         var x2= (1+flash_coef1)*x1-total_v1+total_pans_steam_consumption*flash_coef1;
         document.querySelector("#total_v2_evap").value=x2.toFixed(2);

         var x3 =(flash_coef2+1)*x2-mj_v2_consump;
         document.querySelector("#v3").value=x3.toFixed(2);

         var x4=(1+flash_coef3)*x3;
         document.querySelector("#v4").value=x4.toFixed(2);

         //condensate flash generation
         var flash1 = (x1+total_pans_steam_consumption)*flash_coef1;
         var flash2 = x2*flash_coef2;
         var flash3 = x3*flash_coef3;

         document.querySelector("#flash_1").value=flash1.toFixed(2);

         document.querySelector("#flash_2").value=flash2.toFixed(2);

         document.querySelector("#flash_3").value=flash3.toFixed(2);

         //intermediate brix

         var bx_0 = syrup_solid/(cj-total_pans_steam_consumption)*100;
         var bx_1 = syrup_solid/(cj-total_pans_steam_consumption-x1)*100;
         var bx_2 = syrup_solid/(cj-total_pans_steam_consumption-x1-x2)*100;
         var bx_3 = syrup_solid/(cj-total_pans_steam_consumption-x1-x2-x3)*100;

         document.querySelector("#bx0").value=bx_0.toFixed(2);
         document.querySelector("#bx1").value=bx_1.toFixed(2);
         document.querySelector("#bx2").value=bx_2.toFixed(2);
         document.querySelector("#bx3").value=bx_3.toFixed(2);    



         //process steam requirement
         document.querySelector("#exh_pre_evap").value=total_pans_steam_consumption.toFixed(2);
         document.querySelector("#exh_1st").value=x1.toFixed(2);
         document.querySelector("#exh_jh").value=total_exhaust_heater.toFixed(2);

         //from inputs
         var vessels_soda_steam = parseFloat(evap_soda[0].value);
         var panwash_steam = parseFloat(pan_wash_steam[0].value);
         var steamout = parseFloat(steam_out_and_ejector[0].value);
         var steam_centrifugals = parseFloat(steam_centrifugal[0].value);
         var sulphur_melter_steam = parseFloat(sulphur_steam[0].value);

         //outputs
         document.querySelectorAll(".exh_soda")[1].value=vessels_soda_steam.toFixed(2);
         document.querySelectorAll(".exh_pan_wash")[1].value=panwash_steam.toFixed(2);
         document.querySelectorAll(".steam_out_eject")[1].value=steamout.toFixed(2);
         document.querySelectorAll(".sulphur_melt")[1].value=sulphur_melter_steam.toFixed(2);
         document.querySelectorAll(".melt_centrifug_dryer")[1].value=steam_centrifugals.toFixed(2);

         var total_process_steam = total_exhaust_heater+total_pans_steam_consumption+x1+vessels_soda_steam+
                                   panwash_steam+steamout+steam_centrifugals+sulphur_melter_steam;
         
        document.querySelector("#total_steam").value=total_process_steam.toFixed(2);

        
        }   
        
        var evaluate=document.querySelector("#calculate");
        evaluate.addEventListener("click",calculate); 

        var open=document.querySelectorAll(".open");
       
        var input_container=document.querySelector("#container1");
        var output_container=document.querySelector("#container2");

        open[0].addEventListener('click',()=>(input_container.style.display="block"))
        open[0].addEventListener('click',()=>(output_container.style.display="none"))
       

        open[1].addEventListener('click',()=>(output_container.style.display="block"))
        open[1].addEventListener('click',()=>(input_container.style.display="none"))



        function showPage(output){
            document.querySelectorAll('.outputs').forEach(div=>{
                div.style.display='none'
            });
            document.querySelector(`#${output}`).style.display='block';  
        }
        document.querySelectorAll('.output_button').forEach(function(button){
            button.onclick=function(){
                showPage(this.dataset.output)
            }   
        })
       
        

        
        
        
        //function openExtraction() {
            //document.querySelector("#extraction_wrapper").style.display="block";          
        //}  
        //function closeExtraction() {
            //document.querySelector("#extraction_wrapper").style.display="none" 
        //} 
        
        
        
       

       

    </script>

    
</body>
</html>
